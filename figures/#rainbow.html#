<head>
  <meta charset="UTF-8" />
  <script src="CanvasAnimation.js" language="javascript"></script>
</head>
<body style="background-color: #200790;">
  <p><center><font id="jnj" size=45
                   style="color: #6f0000;">
        <b> J.N.J.</b></font></center></p>

<p><center><canvas style="background-color: #000790;" id="rainbow" width="600" height="600"></canvas></center></p>
<script>

  const rainbowred = [
      [0, 1], [102, 1], [154, 0], [205, 0], [255, 0.65]]

const rainbowgreen = [[0, 0], [102, 1], [154, 1], [205, 0], [255, 0]]

const rainbowblue = [[0, 0], [154, 0], [205, 1], [205, 1], [255, 1]]

const rainbowbrightness = [[0, 0], [20, 0.8], [40, 1], [215, 1], [235, 0.8],[255, 0]] 

  let lineWidth = 4
  let dt = 0.02
  let t = 0
  
  
  function drawArcPart(c, a, x, y, size) {
      c.beginPath()
      c.arc(x, y, size, 1 * Math.PI, 2 * Math.PI)
      c.stroke()
  }
  function drawArcSet(c, offset_i, offset_j) {
  c.strokeStyle = "#ff0000"
  c.lineWidth = lineWidth
  let r = 300
  drawArcPart(c, t, 300, 600, r)
  r = r - lineWidth
  c.strokeStyle = rgb(255, 80, 0)

  drawArcPart(c, t, 300, 600, r)
   r = r - lineWidth
  c.strokeStyle = rgb(230, 160, 0)

  drawArcPart(c, t, 300, 600, r)
   r = r - lineWidth
  c.strokeStyle = rgb(160, 230, 20)

  drawArcPart(c, t, 300, 600, r)
   r = r - lineWidth
  c.strokeStyle = rgb(100, 255, 80)

  drawArcPart(c, t, 300, 600, r)
   r = r - lineWidth
  c.strokeStyle = rgb(40, 240, 50)

  drawArcPart(c, t, 300, 600, r)
   r = r - lineWidth
  }
  
  let flicker_on = false;

  function flicker(r,g,b, scale, i) {
      if (flicker_on) {
          let lum= 1 - ((1 + Math.sin(i)) * 0.5 * scale)
          function f(x) {
              return Math.floor(x*lum)
          }
          return rgb(f(r), f(g), f(b))
      } else {
          return rgb(r,g,b)
      }
  }
  

  function drawScene(c) {
      c.clear()
      drawArcSet(c, 0, 0)
  }
  
  let an = new CanvasAnimation("rainbow", drawScene)
  an.start()
  
</script>

  <p><center>
       <input
        id="lineWidth" type="range"
        min="0" max="100" value="4"
        oninput= "lineWidth = document.getElementById('lineWidth').value"
        />
      <button
        style="background-color: #9d0303;
               border-color: #9d0303;"
        onclick= "flicker_on = !flicker_on;">flicker</button>
      <input
        id="dt" type="range"
        min="0" max="100" value="45"
        oninput= "dt = (document.getElementById('dt').value - 50) / 200"
        />
  </center></p>

  <p><center>
       
      <button
        style="background-color: #9d0303;
               border-color: #9d0303;"
        onclick= "
document.getElementById('lineWidth').value = 4; lineWidth= 4
flicker_on = false
document.getElementById('dt').value = 45; dt = (45-50)/200
">reset</button>
     
  </center></p>

</body>
