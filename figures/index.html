<head>
  <meta charset="UTF-8" />
  <script src="CanvasAnimation.js" language="javascript"></script>
</head>
<body style="background-color: #230000;">
  <p><center><font id="jnj" size=45
                   style="color: #6f0000;">
        <b> J.N.J.</b></font></center></p>

<p><center><canvas style="background-color: #230000;" id="fireworks" width="600" height="600"></canvas></center></p>
<script>

  let lineWidth = 2
  
  function drawArcPart(c, a, x, y) {
      c.beginPath()
      c.arc(x, y, 70, a, a + 0.2 * Math.PI)
      c.stroke()
  }

  let current_a = 0

  function drawArcSet(c, offset_i, offset_j) {
      for (let i = offset_i + 100; i < 550; i+=120) {
          for (let j = offset_j + 40; j < 500; j+= 120) {
              drawArcPart(c, current_a, i, j+50)
          }
      }
  }

  let flicker_on = false;

  function flicker(r,g,b, scale, i) {
      if (flicker_on) {
          let lum= 1 - ((1 + Math.sin(i)) * 0.5 * scale)
          function f(x) {
              return Math.floor(x*lum)
          }
          return rgb(f(r), f(g), f(b))
      } else {
          return rgb(r,g,b)
      }
  }
  
  function red(c, flickerspeed) {
      c.lineWidth = lineWidth * (Math.sin(current_a)+1)
      c.strokeStyle = flicker(181, 36, 36, // "#b52424"
                              0.18, flickerspeed*current_a)
  }
  function turquise(c, flickerspeed) {
      c.lineWidth = lineWidth * (2-(Math.sin(current_a)+1))
      c.strokeStyle = flicker(18, 62, 69, // "# 12 3e 45"
                              0.11, flickerspeed*current_a)
  }
  
  function drawScene(c) {
      c.clear()
      current_a = current_a - 0.02
      red(c, 44.2)
      drawArcSet(c, 0, 0)
      turquise(c, 28.43)
      drawArcSet(c, 60, 0)
      turquise(c, 29.43)
      drawArcSet(c, 0, 60)
      red(c, 44.13)
      drawArcSet(c, 60, 60)
  }
  
  let an = new CanvasAnimation("fireworks", drawScene)
  an.start()
  
</script>

</body>
